!function(c,d){"function"==typeof define&&define.amd?define([],function(){return d(c)}):"object"==typeof exports?module.exports=d(c):c.SmoothScroll=d(c)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(g){function i(){var a={};return Array.prototype.forEach.call(arguments,function(b){for(var c in b){if(!b.hasOwnProperty(c)){return}a[c]=b[c]}}),a}function j(b){"#"===b.charAt(0)&&(b=b.substr(1));for(var d,n=String(b),a=n.length,f=-1,c="",e=n.charCodeAt(0);++f<a;){if(0===(d=n.charCodeAt(f))){throw new InvalidCharacterError("Invalid character: the input contains U+0000.")}c+=1<=d&&d<=31||127==d||0===f&&48<=d&&d<=57||1===f&&48<=d&&d<=57&&45===e?"\\"+d.toString(16)+" ":128<=d||45===d||95===d||48<=d&&d<=57||65<=d&&d<=90||97<=d&&d<=122?n.charAt(f):"\\"+n.charAt(f)}return"#"+c}function l(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}function h(c,d,a,b){if(d.emitEvents&&"function"==typeof g.CustomEvent){var e=new CustomEvent(c,{bubbles:!0,detail:{anchor:a,toggle:b}});document.dispatchEvent(e)}}var k={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0};return function(r,f){var d,c,n,b,e={cancelScroll:function(m){cancelAnimationFrame(b),b=null,m||h("scrollCancel",d)}};e.animateScroll=function(y,ab,s){e.cancelScroll();var ac,p=i(d||k,s||{}),ae="[object Number]"===Object.prototype.toString.call(y),W=ae||!y.tagName?null:y;if(ae||W){var S=g.pageYOffset;p.header&&!n&&(n=document.querySelector(p.header));var Y,m,q,aa,t,U,v=(ac=n)?parseInt(g.getComputedStyle(ac).height,10)+ac.offsetTop:0,Z=ae?y:function(x,z,B,w){var A=0;if(x.offsetParent){for(;A+=x.offsetTop,x=x.offsetParent;){}}return A=Math.max(A-z-B,0),w&&(A=Math.min(A,l()-g.innerHeight)),A}(W,v,parseInt("function"==typeof p.offset?p.offset(y,ab):p.offset,10),p.clip),u=Z-S,V=l(),X=0,E=(m=(Y=p).speedAsDuration?Y.speed:Math.abs(u/1000*Y.speed),Y.durationMax&&m>Y.durationMax?Y.durationMax:Y.durationMin&&m<Y.durationMin?Y.durationMin:parseInt(m,10)),ad=function(x){var z,w;X+=x-(q=q||x),t=S+u*(z=aa=1<(aa=0===E?0:X/E)?1:aa,"easeInQuad"===p.easing&&(w=z*z),"easeOutQuad"===p.easing&&(w=z*(2-z)),"easeInOutQuad"===p.easing&&(w=z<0.5?2*z*z:(4-2*z)*z-1),"easeInCubic"===p.easing&&(w=z*z*z),"easeOutCubic"===p.easing&&(w=--z*z*z+1),"easeInOutCubic"===p.easing&&(w=z<0.5?4*z*z*z:(z-1)*(2*z-2)*(2*z-2)+1),"easeInQuart"===p.easing&&(w=z*z*z*z),"easeOutQuart"===p.easing&&(w=1- --z*z*z*z),"easeInOutQuart"===p.easing&&(w=z<0.5?8*z*z*z*z:1-8*--z*z*z*z),"easeInQuint"===p.easing&&(w=z*z*z*z*z),"easeOutQuint"===p.easing&&(w=1+ --z*z*z*z*z),"easeInOutQuint"===p.easing&&(w=z<0.5?16*z*z*z*z*z:1+16*--z*z*z*z*z),p.customEasing&&(w=p.customEasing(z)),w||z),g.scrollTo(0,Math.floor(t)),function(F,B){var A,D,C,G=g.pageYOffset;if(F==B||G==B||(S<B&&g.innerHeight+G)>=V){return e.cancelScroll(!0),D=B,C=ae,0===(A=y)&&document.body.focus(),C||(A.focus(),document.activeElement!==A&&(A.setAttribute("tabindex","-1"),A.focus(),A.style.outline="none"),g.scrollTo(0,D)),h("scrollStop",p,y,ab),!(b=q=null)}}(t,Z)||(b=g.requestAnimationFrame(ad),q=x)};0===g.pageYOffset&&g.scrollTo(0,0),U=y,ae||history.pushState&&p.updateURL&&history.pushState({smoothScroll:JSON.stringify(p),anchor:U.id},document.title,U===document.documentElement?"#top":"#"+U.id),"matchMedia" in g&&g.matchMedia("(prefers-reduced-motion)").matches?g.scrollTo(0,Math.floor(Z)):(h("scrollStart",p,y,ab),e.cancelScroll(!0),g.requestAnimationFrame(ad))}};function a(p){if(!p.defaultPrevented&&!(0!==p.button||p.metaKey||p.ctrlKey||p.shiftKey)&&"closest" in p.target&&(c=p.target.closest(r))&&"a"===c.tagName.toLowerCase()&&!p.target.closest(d.ignore)&&c.hostname===g.location.hostname&&c.pathname===g.location.pathname&&/#/.test(c.href)){var q,m;try{q=j(decodeURIComponent(c.hash))}catch(p){q=j(c.hash)}if("#"===q){if(!d.topOnEmptyHash){return}m=document.documentElement}else{m=document.querySelector(q)}(m=m||"#top"!==q?m:document.documentElement)&&(p.preventDefault(),function(){if(history.replaceState&&d.updateURL&&!history.state){var s=g.location.hash;s=s||"",history.replaceState({smoothScroll:JSON.stringify(d),anchor:s||g.pageYOffset},document.title,s||g.location.href)}}(),e.animateScroll(m,c))}}function o(m){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(d)){var p=history.state.anchor;"string"==typeof p&&p&&!(p=document.querySelector(j(history.state.anchor)))||e.animateScroll(p,null,{updateURL:!1})}}return e.destroy=function(){d&&(document.removeEventListener("click",a,!1),g.removeEventListener("popstate",o,!1),e.cancelScroll(),b=n=c=d=null)},function(){if(!("querySelector" in document&&"addEventListener" in g&&"requestAnimationFrame" in g&&"closest" in g.Element.prototype)){throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs."}e.destroy(),d=i(k,f||{}),n=d.header?document.querySelector(d.header):null,document.addEventListener("click",a,!1),d.updateURL&&d.popstate&&g.addEventListener("popstate",o,!1)}(),e}});
